var rogue;(function(n){(function(n){var t=function(){function n(n,t,i){this.tiles=[],this.offsetX=0,this.offsetY=0,this.width=0,this.height=0,this.height=i,this.width=t,this.map=n}return n.prototype.getSurroundingTiles=function(n,t,i){this.tiles.length=0;var r,f=this.calculateRange(n.x,t,this.map.getWidth()),u=this.calculateRange(n.y,i+1,this.map.getHeight());for(u.end+=1,this.offsetX=f.start,this.offsetY=u.start,r=u.start;r<u.end;r++)this.tiles.push(this.getTilesInRow(r,f.start,f.end));return this.tiles},n.prototype.calculateRange=function(n,t,i){var r={start:0,end:0},e,o;if(t--,n==0)r.start=n,r.end=t;else if(n==i-1)r.start=n-t,r.end=n;else{var s=Math.floor(t*.5),u=s,f=t-s,h=Math.floor(i*.5);n<h?(e=n-u,e<0&&(f-=e,u+=e)):n>h&&(o=i-1-(n+f),o<0&&(f+=o,u-=o)),r.start=n-u,r.end=r.start+u+f}return r.start<0&&(r.start=0,r.end++),r.end>i&&(r.end=i),r},n.prototype.getTilesInRow=function(n,t,i){var r=this.map.getTiles()[n];return r.slice(t,i+1)},n.prototype.getTiles=function(){return this.tiles},n.prototype.getOffsetX=function(){return this.offsetX},n.prototype.getOffsetY=function(){return this.offsetY},n.prototype.setCenter=function(n){this.centerPoint=n.clone(),this.getSurroundingTiles(this.centerPoint,this.width,this.height)},n.prototype.getTileID=function(n,t){return this.map.getTileID(t+this.offsetY,n+this.offsetX)},n.prototype.getCenter=function(){return this.centerPoint},n.prototype.toString=function(){for(var t="",i=this.getTiles.length,n=0;n<i;n++)t=t+this.getTiles[n].join()+"\n";return t},n}();n.MapSelection=t})(n.map||(n.map={}));var t=n.map})(rogue||(rogue={}))